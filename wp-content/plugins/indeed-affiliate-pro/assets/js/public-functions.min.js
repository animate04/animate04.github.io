function iaGenerateLink(b){jQuery(".uap-ap-generate-links-result").css("visibility","hidden");jQuery(".uap-ap-generate-social-result").css("visibility","hidden");var d=jQuery("#ia_generate_aff_custom_url").val();if(jQuery("#campaigns_select").length){var c=jQuery("#campaigns_select").val();"..."==c&&(c="")}else c="";var e=0,f=0;jQuery("#ref_type").html()&&1==jQuery("#ref_type").val()&&(e=1);jQuery("#friendly_links").html()&&1==jQuery("#friendly_links").val()&&(f=1);jQuery.ajax({type:"post",url:decodeURI(ajax_url),
data:{action:"uap_ia_ajax_return_url_for_aff",aff_id:b,url:d,campaign:c,slug:e,friendly_links:f},success:function(g){if(g){var h=JSON.parse(g);g=h.url;var m=h.social;h=h.qr_code;0!=g&&(jQuery(".uap-ap-generate-links-result").html(g),jQuery(".uap-ap-generate-links-result").css("visibility","visible"));m&&(jQuery(".uap-ap-generate-social-result").html(m),jQuery(".uap-ap-generate-social-result").css("visibility","visible"));h&&(jQuery(".uap-ap-generate-qr-code").html(h),jQuery(".uap-ap-generate-qr-code").css("visibility",
"visible"))}}})}
function uapRegisterCheckViaAjax(b){var d="#"+jQuery(".uap-form-create-edit [name="+b+"]").parent().attr("id"),c=jQuery(".uap-form-create-edit [name="+b+"]").val(),e="";"pass2"==b?e=jQuery(".uap-form-create-edit [name=pass1]").val():"confirm_email"==b&&(e=jQuery(".uap-form-create-edit [name=user_email]").val());jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_check_reg_field_ajax",type:b,value:c,second_value:e},success:function(f){jQuery(d+" .uap-register-notice").remove();jQuery(".uap-form-create-edit [name="+
b+"]").removeClass("uap-input-notice");1!=f&&(jQuery(d).append('<div class="uap-register-notice">'+f+"</div>"),jQuery(".uap-form-create-edit [name="+b+"]").addClass("uap-input-notice"))}})}function uapAjaxCheckFieldConditionOnblurOnclick(b,d,c,e){b=jQuery(".uap-form-create-edit [name="+b+"]").val();uapAjaxCheckFieldCondition(b,d,c,e)}
function uapAjaxCheckOnClickFieldCondition(b,d,c,e,f){if("checkbox"==e){var g=[];jQuery(".uap-form-create-edit [name='"+b+"[]']:checked").each(function(){g.push(jQuery(this).val())});b=g.join(",")}else b=jQuery(".uap-form-create-edit [name="+b+"]:checked").val();uapAjaxCheckFieldCondition(b,d,c,f)}function uapAjaxCheckCnChangeMultiselectFieldCondition(b,d,c,e){b=jQuery(".uap-form-create-edit [name='"+b+"[]']").val();null!=b&&(b=b.join(","),uapAjaxCheckFieldCondition(b,d,c,e))}
function uapAjaxCheckFieldCondition(b,d,c,e){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_check_logic_condition_value",val:b,field:c},success:function(f){var g=jQuery("#uap_exceptionsfields").val();if(g){g=g.split(",");var h=g.indexOf(c)}else g=[];"1"==f?1==e?(jQuery(d).fadeIn(200),-1!=g.indexOf(c)&&g.splice(h,1)):(jQuery(d).fadeOut(200),-1==g.indexOf(c)&&g.push(c)):1==e?(jQuery(d).fadeOut(200),-1==g.indexOf(c)&&g.push(c)):(jQuery(d).fadeIn(200),-1!=g.indexOf(c)&&g.splice(h,
1));g&&(g=g.join(","),jQuery("#uap_exceptionsfields").val(g))}})}function uapGetCheckboxRadioValue(b,d){if("radio"==b){var c=jQuery("[name="+d+"]:checked").val();if("undefined"!=typeof c)return c}else{var e=[];jQuery("[name='"+d+"[]']:checked").each(function(){e.push(this.value)});if(0<e.length)return e.join(",")}return jQuery('[name="'+d+'"]').is(":checked")?1:""}
function uapRegisterCheckViaAjaxRec(b){jQuery(".uap-register-notice").remove();var d=[],c=jQuery("#uap_exceptionsfields").val();if(c)var e=c.split(",");for(c=0;c<b.length;c++)if(!(e&&-1<e.indexOf(b[c]))){jQuery(".uap-form-create-edit [name="+b[c]+"]").removeClass("uap-input-notice");var f=jQuery(".uap-form-create-edit [name="+b[c]+"]").attr("type");"undefined"==typeof f&&(f=jQuery(".uap-form-create-edit [name='"+b[c]+"[]']").attr("type"));"undefined"==typeof f&&(f=jQuery(".uap-form-create-edit [name='"+
b[c]+"']").prop("nodeName"));"undefined"==typeof f&&(f=jQuery(".uap-form-create-edit [name='"+b[c]+"[]']").prop("nodeName"),"SELECT"==f&&(f="multiselect"));"checkbox"==f||"radio"==f?f=uapGetCheckboxRadioValue(f,b[c]):"multiselect"==f?(f=jQuery(".uap-form-create-edit [name='"+b[c]+"[]']").val(),"object"==typeof f&&null!=f&&(f=f.join(","))):f=jQuery(".uap-form-create-edit [name="+b[c]+"]").val();var g="";"pass2"==b[c]?g=jQuery(".uap-form-create-edit [name=pass1]").val():"confirm_email"==b[c]?g=jQuery(".uap-form-create-edit [name=user_email]").val():
"tos"==b[c]&&(f=jQuery(".uap-form-create-edit [name=tos]").is(":checked")?1:0);d.push({type:b[c],value:f,second_value:g})}jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_check_reg_field_ajax",fields_obj:d},success:function(h){h=JSON.parse(h);for(var m=1,k=0;k<h.length;k++){var l=jQuery(".uap-form-create-edit [name="+h[k].type+"]").attr("type");"undefined"==typeof l&&(l=jQuery(".uap-form-create-edit [name='"+h[k].type+"[]']").attr("type"));"undefined"==typeof l&&(l=jQuery(".uap-form-create-edit [name='"+
h[k].type+"']").prop("nodeName"));"undefined"==typeof l&&(l=jQuery(".uap-form-create-edit [name='"+h[k].type+"[]']").prop("nodeName"),"SELECT"==l&&(l="multiselect"));l="radio"==l?jQuery(".uap-form-create-edit [name="+h[k].type+"]").parent().parent().attr("id"):"checkbox"==l&&"tos"!=h[k].type?jQuery(".uap-form-create-edit [name='"+h[k].type+"[]']").parent().parent().attr("id"):"multiselect"==l?jQuery(".uap-form-create-edit [name='"+h[k].type+"[]']").parent().attr("id"):jQuery(".uap-form-create-edit [name="+
h[k].type+"]").parent().attr("id");1!=h[k].value&&("undefined"==typeof l?jQuery(".uap-form-create-edit [name="+h[k].type+"]").after('<div class="uap-register-notice">'+h[k].value+"</div>"):(jQuery("#"+l).append('<div class="uap-register-notice">'+h[k].value+"</div>"),jQuery(".uap-form-create-edit [name="+h[k].type+"]").addClass("uap-input-notice")),m=0)}if(1==m)window.must_submit=1,jQuery(".uap-form-create-edit").submit();else return!1}})}
function uapShowSubtabs(b){"block"==jQuery("#uap_public_ap_"+b).css("display")?(jQuery("#uap_fa_sign-"+b).removeClass("fa-account-down-uap"),jQuery("#uap_fa_sign-"+b).addClass("fa-account-right-uap"),jQuery(".uap-public-ap-menu-subtabs").css("display","none")):(jQuery(".uap-ap-menu-sign").removeClass("fa-account-down-uap"),jQuery(".uap-ap-menu-sign").addClass("fa-account-right-uap"),jQuery(".uap-public-ap-menu-subtabs").css("display","none"),jQuery("#uap_public_ap_"+b).css("display","block"),jQuery("#uap_fa_sign-"+
b).removeClass("fa-account-right-uap"),jQuery("#uap_fa_sign-"+b).addClass("fa-account-down-uap"))}function uapPaymentType(){jQuery.each(["paypal","bt","stripe","stripe_v2","stripe_v3"],function(d,c){jQuery("#uap_payment_with_"+c).css("display","none")});var b=jQuery("[name=uap_affiliate_payment_type]").val();jQuery("#uap_payment_with_"+b).fadeIn(200)}
function uapBecomeAffiliatePublic(){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_make_wp_user_affiliate_from_public"},success:function(b){b&&(window.location.href=b)}})}
function uapAddToWallet(b,d,c){var e=jQuery(c).val();if(""!=e)for(a in show_arr=e.split(","),show_arr)show_arr[a]=parseInt(show_arr[a]);else show_arr=[];if(jQuery(b).is(":checked"))-1==show_arr.indexOf(d)&&show_arr.push(d);else for(a in show_arr)parseInt(show_arr[a])==d&&show_arr.splice(a,1);e=show_arr.join(",");jQuery(c).val(e);jQuery("#uap_total_amount").html("");jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_get_amount_for_referral_list",r:e},success:function(f){f?jQuery("#uap_total_amount").html(f):
jQuery("#uap_total_amount").html(0)}})}function uapRemoveWalletItem(b,d){var c=window.location.href;jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_delete_wallet_item_via_ajax",type:b,code:d},success:function(e){e&&(window.location.href=c)}})}
function uapDeleteFileViaAjax(b,d,c,e,f){if(confirm("Are you sure you want to delete?")){var g=jQuery(c).attr("data-h");jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_delete_attachment_ajax_action",attachemnt_id:b,user_id:d,field_name:e,h:g},success:function(h){jQuery(f).val("");jQuery(c+" .ajax-file-upload-filename").remove();jQuery(c+" .uap-delete-attachment-bttn").remove();jQuery(c+" .uap-member-photo").length&&(jQuery(c+" .uap-member-photo").remove(),"uap_avatar"==e&&(jQuery(c).prepend("<div class='uap-no-avatar uap-member-photo'></div>"),
jQuery(c+" .uap-file-upload").css("display","block")));jQuery(c+" .uap-file-name-uploaded").length&&jQuery(c+" .uap-file-name-uploaded").remove();jQuery(c+" .ajax-file-upload-progress").length&&jQuery(c+" .ajax-file-upload-progress").remove();jQuery(c+" .uap-icon-file-type").length&&jQuery(c+" .uap-icon-file-type").remove()}})}}
function uapMakeInputhString(b,d,c){str=jQuery(c).val();-1==str&&(str="");show_arr=""!=str?str.split(","):[];jQuery(b).is(":checked")?show_arr.push(d):(b=show_arr.indexOf(d),show_arr.splice(b,1));str=show_arr.join(",");""==str&&(str=-1);jQuery(c).val(str)}
function uapAffiliateUsernameTest(b){jQuery(".uap-username-not-exists").remove();jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_check_if_username_is_affiliate",username:b},success:function(d){1==d&&jQuery("#uap_affiliate_username_text").after('<div class="uap-username-not-exists">Username that You write is not affiliate!</div>')}})}
function uapCheckLoginField(b,d){var c=jQuery("#notice_"+b);c.fadeOut(500,function(){c.remove()});var e=jQuery("#uap_login_form [name="+b+"]").parent();""==jQuery("#uap_login_form [name="+b+"]").val()&&jQuery(e).append('<div class="uap-login-notice" id="notice_'+b+'">'+d+"</div>")}
function uapStripeV2UpdateFields(){var b=jQuery(".stripe_v2_meta_data_country").val(),d=jQuery(".stripe_v2_meta_data_user_type").val();"us"!=b&&(b="non_us");jQuery(".uap-stripe-v2-field").each(function(){var c=jQuery(this).attr("data-country"),e=jQuery(this).attr("data-type");"all"==c&&"all"==e?jQuery(this).css("display","block"):b==c?(d==e||"all"==e)&&jQuery(this).css("display","block"):d==e?(b==c||"all"==c)&&jQuery(this).css("display","block"):jQuery(this).css("display","none")});b=jQuery(".stripe_v2_meta_data_country").val();
"ca"==b&&(jQuery(".uap-js-routing-number").css("display","none"),jQuery(".uap-js-transit-number").css("display","block"),jQuery(".uap-js-institution-number").css("display","block"))}function uapDoHideInfoAffiliateBar(b){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_info_affiliate_bar_do_hide"},success:function(d){jQuery(".uap-menu-section").fadeOut(300);jQuery("#uap_info_affiliate_bar").fadeOut(300);jQuery("#uap_iab_style").remove()}})}
function uapInfoAffiliateBarUpdateLink(){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_ia_ajax_return_url_for_aff",aff_id:jQuery("#uap_info_affiliate_bar_extra_info").attr("data-affiliate_id"),url:window.location.href,campaign:"",slug:jQuery("#ap_affiliate_bar_ref_type").val(),friendly_links:jQuery("#uap_affiliate_bar_friendly_links").val()},success:function(b){b&&(b=JSON.parse(b).url,0!=b&&jQuery(".uap-js-iab-affiliate-link").val(b))}})}
function uapInfoAffiliateBarChangeBannerSize(b){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_ajax_get_banner_for_permalink",affiliate_id:jQuery("#uap_info_affiliate_bar_banner_extra_info").attr("data-affiliate_id"),uid:jQuery("#uap_info_affiliate_bar_banner_extra_info").attr("data-uid"),url:window.location.href,size:b},success:function(d){d&&(jQuery("#uap_info_bar_banner_the_value").val(d),jQuery("#uap_info_bar_banner_wrapp").html(d))}})}
jQuery(document).ajaxSend(function(b,d,c){"string"===typeof c.data&&!1!==c.data.includes("action=uap")&&"string"===typeof c.url&&c.url.includes("/admin-ajax.php")&&(b=jQuery('meta[name="uap-token"]').attr("content"),d.setRequestHeader("X-CSRF-UAP-TOKEN",b))});
jQuery(window).on("load",function(){jQuery(".uap-js-submit-campaign").on("click",function(b){b.preventDefault();jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_ajax_save_campaign",campaignName:jQuery("[name=campaign_name]").val()},success:function(d){location.reload()}})});jQuery("#uap_login_username").on("blur",function(){var b=jQuery(".uap-js-login-form-error-messages").attr("data-log");uapCheckLoginField("log",b)});jQuery("#uap_login_password").on("blur",function(){var b=jQuery(".uap-js-login-form-error-messages").attr("data-pwd");
uapCheckLoginField("pwd",b)});jQuery("#uap_login_form").on("submit",function(b){b.preventDefault();b=jQuery("#uap_login_form [name=log]").val();var d=jQuery("#uap_login_form [name=pwd]").val();if(""!=b&&""!=d)jQuery("#uap_login_form").unbind("submit").submit();else return b=jQuery(".uap-js-login-form-error-messages").attr("data-log"),d=jQuery(".uap-js-login-form-error-messages").attr("data-pwd"),uapCheckLoginField("log",b),uapCheckLoginField("pwd",d),FALSE});""!=jQuery(".uap-js-payment-settings-nonce").val()&&
(uapPaymentType(),uapStripeV2UpdateFields());jQuery(".uap-js-submit-simple-link").on("click",function(b){b.preventDefault();jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_ajax_save_simple_link",url:jQuery("[name=url]").val(),currentUrl:jQuery(".uap-js-simple-links-section").attr("data-current_url")},success:function(d){d?document.location.href=d:location.reload()}})});jQuery(".uap-general-date-filter").length&&jQuery(".uap-general-date-filter").each(function(){jQuery(this).datepicker({dateFormat:"yy-mm-dd",
onSelect:function(b){jQuery(this).val(b)}})});jQuery(".uap-js-select2-data").length&&jQuery(".uap-js-select2-data").each(function(b,d){var c=jQuery(d).attr("data-selector"),e=jQuery(d).attr("data-label");jQuery(c).select2({placeholder:e,allowClear:!0})});jQuery(".uap-js-date-picker-data").length&&jQuery(".uap-js-date-picker-data").each(function(b,d){var c=jQuery(d).attr("data-selector");jQuery(c).datepicker({dateFormat:"dd-mm-yy"})});jQuery(".uap-js-upload-file-data").length&&jQuery(".uap-js-upload-file-data").each(function(b,
d){var c=jQuery(d).attr("data-rand"),e=jQuery(d).attr("data-url"),f=jQuery(d).attr("data-max_size"),g=jQuery(d).attr("data-alowed_types"),h=jQuery(d).attr("data-name"),m=jQuery(d).attr("data-alert_text");jQuery("#uap_fileuploader_wrapp_"+c+" .uap-file-upload").uploadFile({onSelect:function(k){jQuery("#uap_fileuploader_wrapp_"+c+" .ajax-file-upload-container").css("display","block");return""!=jQuery("#uap_upload_hidden_"+c).val()?(alert(m),!1):!0},url:e,fileName:"uap_file",dragDrop:!1,showFileCounter:!1,
showProgress:!0,showFileSize:!1,maxFileSize:f,allowedTypes:g,onSuccess:function(k,l,n,p){if(l){k=jQuery.parseJSON(l);"undefined"!=typeof k.secret&&jQuery("#uap_fileuploader_wrapp_"+c).attr("data-h",k.secret);jQuery("#uap_fileuploader_wrapp_"+c+" .uap-file-upload").prepend('<div onClick="uapDeleteFileViaAjax('+k.id+", -1, '#uap_fileuploader_wrapp_"+c+"', '' "+h+" '', '#uap_upload_hidden_'"+c+"'');\" class='uap-delete-attachment-bttn'>Remove</div>");switch(k.type){case "image":jQuery("#uap_fileuploader_wrapp_"+
c+" .uap-file-upload").prepend("<img src="+k.url+" class='uap-member-photo' /><div class='uap-clear'></div>");break;case "other":jQuery("#uap_fileuploader_wrapp_"+c+" .uap-file-upload").prepend("<div class=uap-icon-file-type></div><div class=uap-file-name-uploaded>"+k.name+"</div>")}jQuery("#uap_upload_hidden_"+c).val(k.id);setTimeout(function(){jQuery("#uap_fileuploader_wrapp_"+c+" .ajax-file-upload-container").css("display","none")},3E3)}}})});jQuery(".uap-js-login-form-details").length&&jQuery(".uap-js-login-form-details").each(function(b,
d){var c=jQuery(d).attr("data-username_selector"),e=jQuery(d).attr("data-password_selector"),f=jQuery(d).attr("data-error_message");jQuery(c).on("blur",function(){uapCheckLoginField("log",f)});jQuery(e).on("blur",function(){uapCheckLoginField("pwd",f)});jQuery("#uap_login_form").on("submit",function(g){g.preventDefault();g=jQuery("#uap_login_form [name=log]").val();var h=jQuery("#uap_login_form [name=pwd]").val();if(""!=g&&""!=h)jQuery("#uap_login_form").unbind("submit").submit();else return uapCheckLoginField("log",
f),uapCheckLoginField("pwd",f),FALSE})});jQuery(".uap-js-owl-settings-data").length&&jQuery(".uap-js-owl-settings-data").each(function(b,d){uapInitiateOwl(d)});if(jQuery(".uap-js-account-page-campaigns-delete-item").length)jQuery(".uap-js-account-page-campaigns-delete-item").on("click",function(b,d){var c=jQuery(this).attr("data-id");jQuery("#uap_delete_campaign").val(c);jQuery("#uap_campaign_form").submit()});if(jQuery(".uap-js-payment-settings-stripe-tos").length)jQuery(".uap-js-payment-settings-stripe-tos").on("click",
function(b,d){jQuery(".stripe_v2_tos").removeAttr("disabled");window.open("https://stripe.com/us/connect-account/legal","_blank")})});
function uapInitiateOwl(b){b=jQuery(b).attr("data-selector");var d=jQuery(b).attr("data-autoHeight"),c=jQuery(b).attr("data-animateOut"),e=jQuery(b).attr("data-animateIn"),f=jQuery(b).attr("data-lazyLoad"),g=jQuery(b).attr("data-loop"),h=jQuery(b).attr("data-autoplay"),m=jQuery(b).attr("data-autoplayTimeout"),k=jQuery(b).attr("data-autoplayHoverPause"),l=jQuery(b).attr("data-autoplaySpeed"),n=jQuery(b).attr("data-nav"),p=jQuery(b).attr("data-navSpeed"),q=jQuery(b).attr("data-dots"),r=jQuery(b).attr("data-dotsSpeed"),
t=jQuery(b).attr("data-responsiveClass"),u=jQuery(b).attr("data-navigation");jQuery(b).owluapCarousel({items:1,mouseDrag:!0,touchDrag:!0,autoHeight:d,animateOut:c,animateIn:e,lazyLoad:f,loop:g,autoplay:h,autoplayTimeout:m,autoplayHoverPause:k,autoplaySpeed:l,nav:n,navSpeed:p,navText:["",""],dots:q,dotsSpeed:r,responsiveClass:t,responsive:{0:{nav:!1},450:{nav:u}}})};
